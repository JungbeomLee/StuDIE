<!DOCTYPE html>
<html>
<head>
    <title>Video Chat</title>
</head>
<body>
<h1>Video Chat</h1>
<div>
    <video id="local-video" autoplay></video>
    <video id="remote-video" autoplay></video>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"></script>
<script>
    const socket = io.connect();

    // 로컬 비디오 보여주기
    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            const localVideo = document.getElementById('local-video');
            localVideo.srcObject = stream;
        })
        .catch(error => {
            console.error('Error accessing the webcam:', error);
        });

    // 원격 비디오 받기
    socket.on('receive_remote_video', data => {
        const remoteVideo = document.getElementById('remote-video');
        remoteVideo.srcObject = data;
    });
</script>
</body>
</html>
